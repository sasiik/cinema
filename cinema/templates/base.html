<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta tags -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Page title -->
  <title>{% block title %}Bootstrap Page Layout{% endblock title %}</title>
  <!-- Bootstrap CSS -->
  {% load static %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"/>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
</head>
<body>
  <!-- Navbar with offcanvas menu -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
    <div class="container-fluid">
      <!-- Offcanvas menu toggle button -->
      <button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasExample" aria-controls="offcanvasExample">Menu</button>
      <!-- Navbar brand -->
      <a class="navbar-brand" href="#"></a>
      <!-- Offcanvas menu -->
      <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasExampleLabel">Menu</h5>
          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <div class="d-grid gap-2">
            <!-- Offcanvas menu links -->
            <a class="btn btn-primary" href="{% url "home" %}#news">News</a>
            <a class="btn btn-primary" href="{% url "home" %}#films">Films</a>
            <a class="btn btn-primary" href="{% url "home" %}#events">Events</a>
          </div>
        </div>
      </div>
      <!-- Conditional rendering based on user authentication -->
      {% if user.is_authenticated %}
      <div class="ms-auto d-flex align-items-center">
        <!-- Display username if authenticated -->
        <div class='me-2'>{{ user.username }}</div>
        <!-- Logout button -->
        <a class="btn btn-outline-primary" href="{% url "logout" %}">Log out</a>
      </div>
      {% else %}
      <div class="ms-auto">
        <!-- Login and sign-up buttons if not authenticated -->
        <a class="btn btn-outline-primary me-2" href="{% url "login" %}">Login</a>
        <a class="btn btn-primary" href="{% url "signup" %}">Sign Up</a>
      </div>
      {% endif %}
    </div>
  </nav>
  <!-- Main content area -->
  <main class="container mt-5">
    {% block content %}
    <!-- This block will be overridden by child templates -->
    {% endblock content %}
  </main>
  <!-- Footer -->
  <footer class="footer-custom bg-secondary text-center text-white py-3 mt-5">
    <div class="container">
      <!-- Copyright information -->
      <p class="mb-0">Copyright &copy; 2024</p>
      <!-- Links to terms of service and privacy policy -->
      <a href='null' class="link-info">Terms of service | Privacy policy</a>
    </div>
  </footer>
  <!-- Bootstrap JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>
